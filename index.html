<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Questionário BDSM</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 1rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      transition: all 0.3s ease;
    }

    .dark {
      background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
      color: #ecf0f1;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .section {
      background: rgba(255, 255, 255, 0.95);
      padding: 2rem;
      margin-bottom: 1.5rem;
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      transition: all 0.3s ease;
    }

    .section:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
    }

    .dark .section {
      background: rgba(52, 73, 94, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .section h2 {
      margin-bottom: 1.5rem;
      color: #2c3e50;
      font-size: 1.8rem;
      font-weight: 600;
      border-bottom: 3px solid #667eea;
      padding-bottom: 0.5rem;
    }

    .dark .section h2 {
      color: #ecf0f1;
      border-bottom-color: #3498db;
    }

    label {
      display: block;
      margin-bottom: 1rem;
      font-weight: 500;
      color: #34495e;
    }

    .dark label {
      color: #bdc3c7;
    }

    select, input[type="text"], textarea {
      width: 100%;
      padding: 0.8rem;
      margin-top: 0.5rem;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    select:focus, input[type="text"]:focus, textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .dark select, .dark input[type="text"], .dark textarea {
      background: #34495e;
      border-color: #7f8c8d;
      color: #ecf0f1;
    }

    .toggle-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

    .toggle {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border: 2px solid #dee2e6;
      padding: 1rem;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .toggle::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.5s;
    }

    .toggle:hover::before {
      left: 100%;
    }

    .toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .toggle.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: #667eea;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    .dark .toggle {
      background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
      border-color: #7f8c8d;
      color: #ecf0f1;
    }

    .dark .toggle.active {
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
      border-color: #3498db;
    }

    .hidden {
      display: none;
    }

    .btn {
      margin-top: 1.5rem;
      padding: 1rem 2rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .btn:active {
      transform: translateY(0);
    }

    .dark .btn {
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
      box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    }

    .question-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    .question-group {
      background: rgba(255, 255, 255, 0.8);
      padding: 1.5rem;
      border-radius: 12px;
      border: 2px solid #e0e0e0;
    }

    .dark .question-group {
      background: rgba(52, 73, 94, 0.8);
      border-color: #7f8c8d;
    }

    .question-group h3 {
      margin-bottom: 1rem;
      color: #2c3e50;
      font-size: 1.3rem;
      text-align: center;
      font-weight: 600;
    }

    .dark .question-group h3 {
      color: #ecf0f1;
    }

    .question-group.dar h3 {
      color: #e74c3c;
    }

    .question-group.receber h3 {
      color: #27ae60;
    }

    .question-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }

    .question-buttons button {
      padding: 0.8rem 1.2rem;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .question-buttons button:hover {
      background: #f8f9fa;
      transform: translateX(5px);
    }

    /* Gradiente de semáforo para as respostas */
    .question-buttons button[data-resposta="N/A"] {
      background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
      color: white;
      border-color: #95a5a6;
    }

    .question-buttons button[data-resposta="Nunca experimentei"] {
      background: linear-gradient(135deg, #ecf0f1 0%, #bdc3c7 100%);
      color: #2c3e50;
      border-color: #bdc3c7;
    }

    .question-buttons button[data-resposta="Adoro"] {
      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
      color: white;
      border-color: #27ae60;
    }

    .question-buttons button[data-resposta="Aproveito"] {
      background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
      color: white;
      border-color: #2ecc71;
    }

    .question-buttons button[data-resposta="Aceito"] {
      background: linear-gradient(135deg, #f4d03f 0%, #f7dc6f 100%);
      color: #2c3e50;
      border-color: #f4d03f;
    }

    .question-buttons button[data-resposta="Tolero"] {
      background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
      color: white;
      border-color: #e67e22;
    }

    .question-buttons button[data-resposta="Limite rígido"] {
      background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
      color: white;
      border-color: #e74c3c;
    }

    .question-buttons button.selected {
      transform: scale(1.05);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      border-width: 3px;
    }

    /* Correção para modo escuro - manter cores do gradiente */
    .dark .question-buttons button {
      /* Manter as cores do gradiente mesmo no modo escuro */
    }

    .dark .question-buttons button:hover {
      background: rgba(52, 73, 94, 0.8);
      transform: translateX(5px);
    }

    .dark .question-buttons button.selected {
      transform: scale(1.05);
      box-shadow: 0 4px 20px rgba(255, 255, 255, 0.2);
      border-width: 3px;
    }

    .progress-container {
      margin: 2rem 0;
      background: rgba(255, 255, 255, 0.9);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .dark .progress-container {
      background: rgba(52, 73, 94, 0.9);
    }

    .progress-text {
      text-align: center;
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: #2c3e50;
    }

    .dark .progress-text {
      color: #ecf0f1;
    }

    .progress {
      height: 15px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      transition: width 0.5s ease;
      position: relative;
    }

    .progress-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .dark .progress {
      background: #34495e;
    }

    .dark .progress-bar {
      background: linear-gradient(90deg, #3498db 0%, #2980b9 100%);
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      background: rgba(255, 255, 255, 0.9);
      padding: 1.5rem;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .dark .top-bar {
      background: rgba(52, 73, 94, 0.9);
    }

    .creditos {
      font-size: 1.1rem;
      font-weight: 700;
      color: #2c3e50;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .dark .creditos {
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .resultados {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
    }

    .dark .resultados {
      background: rgba(52, 73, 94, 0.95);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .dark table {
      background: #34495e;
    }

    th, td {
      border: 1px solid #e0e0e0;
      padding: 0.8rem;
      text-align: left;
    }

    .dark th, .dark td {
      border-color: #7f8c8d;
    }

    th {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      font-weight: 600;
    }

    /* Gradiente semáforo para títulos das colunas */
    th[data-resposta="Nunca experimentei"] {
      background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
    }

    th[data-resposta="Adoro"] {
      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
    }

    th[data-resposta="Aproveito"] {
      background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
    }

    th[data-resposta="Aceito"] {
      background: linear-gradient(135deg, #f4d03f 0%, #f7dc6f 100%);
      color: #2c3e50;
    }

    th[data-resposta="Tolero"] {
      background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
    }

    th[data-resposta="Limite rígido"] {
      background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
    }

    .dark th {
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    }

    /* Manter cores específicas no modo escuro também */
    .dark th[data-resposta="Nunca experimentei"] {
      background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
    }

    .dark th[data-resposta="Adoro"] {
      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
    }

    .dark th[data-resposta="Aproveito"] {
      background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
    }

    .dark th[data-resposta="Aceito"] {
      background: linear-gradient(135deg, #f4d03f 0%, #f7dc6f 100%);
      color: #2c3e50;
    }

    .dark th[data-resposta="Tolero"] {
      background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
    }

    .dark th[data-resposta="Limite rígido"] {
      background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
    }

    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
      gap: 1rem;
    }

    .nav-btn {
      padding: 1rem 2rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      flex: 1;
      max-width: 200px;
    }

    .btn-anterior {
      background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
      color: white;
    }

    .btn-anterior:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(149, 165, 166, 0.4);
    }

    .btn-proximo {
      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
      color: white;
    }

    .btn-proximo:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
    }

    .btn-proximo:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .toggle-field {
      margin-top: 0.5rem;
    }

    .slide-toggle {
      margin-bottom: 1rem;
    }

    .slide-toggle input[type="checkbox"] {
      display: none;
    }

    .slider {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
      background: #e0e0e0;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid #bdc3c7;
    }

    .slider::before {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 24px;
      height: 24px;
      background: white;
      border-radius: 50%;
      transition: all 0.3s ease;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    .slide-toggle input[type="checkbox"]:checked + .slider {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: #667eea;
    }

    .slide-toggle input[type="checkbox"]:checked + .slider::before {
      transform: translateX(30px);
    }

    .slider::after {
      content: 'SIM';
      position: absolute;
      top: 50%;
      right: 8px;
      transform: translateY(-50%);
      font-size: 0.7rem;
      font-weight: 600;
      color: #bdc3c7;
      transition: all 0.3s ease;
    }

    .slide-toggle input[type="checkbox"]:checked + .slider::after {
      color: white;
    }

    .dark .slider {
      background: #34495e;
      border-color: #7f8c8d;
    }

    .dark .slider::before {
      background: #ecf0f1;
    }

    .dark .slide-toggle input[type="checkbox"]:checked + .slider {
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
      border-color: #3498db;
    }

    .resultado-categoria h3 {
      background: linear-gradient(90deg, #27ae60 0%, #f1c40f 16.66%, #e67e22 33.33%, #d35400 50%, #e74c3c 66.66%, #c0392b 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 1.5rem;
      font-weight: 700;
      margin: 2rem 0 1rem 0;
    }

    @media (max-width: 768px) {
      .question-section {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      .toggle-group {
        grid-template-columns: 1fr;
      }
      
      .navigation-buttons {
        flex-direction: column;
      }
      
      .nav-btn {
        max-width: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="top-bar">
      <div class="creditos">Desenvolvido por HerrKrieg e Jakehimura</div>
      <button onclick="document.body.classList.toggle('dark')" class="btn">🌙 Modo Claro/Escuro</button>
    </div>

    <div class="section">
      <h2>👤 Quem é você?</h2>
      <label>Posição que se identifica:
        <select id="posicao">
          <option>Submisso</option>
          <option>Dominante</option>
          <option>Switch</option>
          <option>Sádico</option>
          <option>Masoquista</option>
          <option>Fetichista</option>
          <option>Outros</option>
        </select>
      </label>
      <label>Tolerância à dor:
        <select id="dor">
          <option>Muito Baixa</option>
          <option>Baixa</option>
          <option>Média</option>
          <option>Alta</option>
          <option>Muito Alta</option>
          <option>N/A</option>
        </select>
      </label>
      <label>Nível de experiência teórica:
        <select id="teorica">
          <option>0-3 anos</option>
          <option>3-5 anos</option>
          <option>5-7 anos</option>
          <option>7-10 anos</option>
          <option>10+ anos</option>
        </select>
      </label>
      <label>Nível de experiência prática:
        <select id="pratica">
          <option>0-3 anos</option>
          <option>3-5 anos</option>
          <option>5-7 anos</option>
          <option>7-10 anos</option>
          <option>10+ anos</option>
        </select>
      </label>
      <label>Orientação sexual:
        <select id="sexualidade">
          <option>Heterossexual</option>
          <option>Homossexual</option>
          <option>Bissexual</option>
          <option>Pansexual</option>
          <option>Assexual</option>
          <option>Demissexual</option>
          <option>Outros</option>
        </select>
      </label>
      <label>Alguma condição médica?
        <div class="toggle-field">
          <div class="slide-toggle">
            <input type="checkbox" id="condicaoToggle" />
            <label for="condicaoToggle" class="slider"></label>
          </div>
          <input type="text" id="condicao" placeholder="Descreva qualquer condição médica relevante..." style="display: none;" />
        </div>
      </label>
      <label>Alguma limitação física ou mental?
        <div class="toggle-field">
          <div class="slide-toggle">
            <input type="checkbox" id="limitacaoToggle" />
            <label for="limitacaoToggle" class="slider"></label>
          </div>
          <input type="text" id="limitacao" placeholder="Descreva qualquer limitação relevante..." style="display: none;" />
        </div>
      </label>
    </div>

    <div class="section">
      <h2>💕 Tipo de Relacionamento</h2>
      <div class="toggle-group">
        <button class="toggle">Sessões Avulsas</button>
        <button class="toggle">Monogamia</button>
        <button class="toggle">Não-monogamia</button>
        <button class="toggle">Cuckolding</button>
        <button class="toggle">Múltiplos parceiros</button>
        <button class="toggle">Swing (troca de casais)</button>
        <button class="toggle">Poliamor</button>
        <button class="toggle">Troca de poder (TPE)</button>
        <button class="toggle">Troca Erótica de Poder (EPE)</button>
        <button class="toggle">Troca Parcial de Poder (PPE)</button>
        <button class="toggle">Disponibilidade 24/7</button>
      </div>
    </div>

    <div class="section">
      <h2>📍 Locais</h2>
      <div class="toggle-group">
        <button class="toggle">Privado</button>
        <button class="toggle">Público (exibição controlada)</button>
        <button class="toggle">Clubes/Meetings</button>
      </div>
    </div>

    <div class="section">
      <h2>📋 Subcategorias</h2>
      <div class="toggle-group">
        <button class="toggle" data-subcategoria="true">Atos sexuais</button>
        <button class="toggle" data-subcategoria="true">Bondage</button>
        <button class="toggle" data-subcategoria="true">Sadismo e Masoquismo</button>
        <button class="toggle" data-subcategoria="true">Dominação e Submissão</button>
        <button class="toggle" data-subcategoria="true">Role Play</button>
        <button class="toggle" data-subcategoria="true">Fetiches</button>
        <button class="toggle" data-subcategoria="true">Equipamentos</button>
      </div>
      <button class="btn" onclick="iniciarQuestionario()">🚀 Iniciar Questionário</button>
    </div>

    <div id="questionario" class="section hidden">
      <h2 id="categoriaAtual"></h2>
      <div id="perguntaAtual" style="font-size: 1.3rem; font-weight: 600; margin-bottom: 1rem; color: #2c3e50;"></div>
      
      <div class="question-section">
        <div class="question-group dar">
          <h3>🔥 DAR</h3>
          <div class="question-buttons" id="respostasDar"></div>
        </div>
        <div class="question-group receber">
          <h3>💖 RECEBER</h3>
          <div class="question-buttons" id="respostasReceber"></div>
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-text" id="progressText">Pergunta 1 de 1</div>
        <div class="progress">
          <div class="progress-bar" id="progressBar"></div>
        </div>
      </div>

      <div class="navigation-buttons">
        <button class="nav-btn btn-anterior" onclick="anteriorPergunta()">⬅️ Anterior</button>
      </div>
    </div>

    <div id="resultados" class="section hidden resultados">
      <h2>📊 Resultados</h2>
      <div id="resumo"></div>
    </div>
  </div>

<script>
  const botoesToggle = document.querySelectorAll('.toggle-group .toggle');
  botoesToggle.forEach(btn =>
    btn.addEventListener('click', () => btn.classList.toggle('active'))
  );

  const respostas = [
    "N/A", "Nunca experimentei", "Adoro", "Aproveito", "Aceito", "Tolero", "Limite rígido"
  ];

  let perguntas = {
    "Atos sexuais": [
      "Sexo Vaginal", "Sexo Anal", "Sexo oral", "Sexo nos seios",
      "Masturbação sem penetração dos dedos", "Masturbação com penetração dos dedos",
      "Fisting vaginal", "Fisting Anal", "Beijo", "Beijo de língua", "Lambidas", "Rimming / Lambedura Anal",
      "Brinquedos vaginais", "Brinquedos anais", "Provocações sexuais", "Massagem",
      "Acariciar / acariciar o cabelo", "Fluidos Corporais - Saliva", "Fluidos Corporais - Suor",
      "Fluidos Corporais - Urina", "Fluidos Corporais - Esperma", "Fluidos Corporais - Lubrificação Feminina",
      "Fluidos Corporais - No corpo", "Fluidos Corporais - No rosto", "Fluidos Corporais - Na boca",
      "Fluidos Corporais - Ingerir", "Dupla Penetração", "Dupla Penetração Vaginal",
      "Dupla Penetração - Brinquedos", "Dupla Penetração Vaginal - Brinquedos",
      "Penetração Tripla - Humana", "Penetração Tripla - Brinquedos", "Menáge - MFF", "Menáge - FMF",
      "Menáge - FMM", "Menáge - MFM", "Menáge - Todos do mesmo sexo", "Gang Bang"
    ],
    "Bondage": [
      "Corpo todo", "Mental", "Restrição de movimentos 0-1 hora", "Restrição de movimentos 1-3 horas",
      "Restrição de movimentos 3-12 horas", "Equipamentos restritivos de couro", "Equipamentos restritivos Metálicos",
      "Amarrações", "Amarrações complexas / Shibari", "Suspensão - Vertical", "Suspensão - Horizontal",
      "Suspensão - Invertida", "Restrição Genital", "Mumificação", "Contenção (Celas / Gaiolas/ Jaulas)",
      "Posições desconfortáveis", "Gags", "Privação sensorial", "Dispositivos de castidade"
    ],
    "Sadismo e Masoquismo": [
      "Palmada", "Tapa na cara", "Morder", "Tortura de mamilo", "Tortura Genital",
      "Socos / Espancamentos", "Hematomas", "Coçar", "Puxões de cabelo", "Beliscar", "Asfixia - Traqueia",
      "Asfixia - Arterial", "Controle de respiração", "Tortura de Água", "Sufocar sentando no rosto", "Ser pisado",
      "Fogo", "Bastinado (tortura de pés)", "Abrasão", "Ventosaterapia / Sucção", "Agulhas", "Perfuração",
      "Facas (sem corte)", "Corte", "Choque", "Frio/Quente", "Velas/Cera Quente", "Cócegas", "Luta livre",
      "Humilhação (privado)", "Humilhação pública", "Dilatação - Vaginal", "Dilatação - Anal", "Abuso Verbal",
      "Marcas permanentes", "Cell Popping / Micro Branding", "Injeções", "Escarificação", "Tatuagem", "Enemas",
      "Brincadeira uretral", "Engasgos (dedos ou objetos)", "Engasgos durante oral"
    ],
    "Dominação e Submissão": [
      "Implorar", "Tarefas domésticas", "Ser mandado", "Protocolo de postura/posição corporal",
      "Restrição de Comportamento", "Restrição de contato visual", "Restrição/protocolo de fala",
      "Controle de uso do banheiro", "Rastejar", "Exercício Forçado", "Masturbação Forçada", "Orgasmos Forçados",
      "Roupas escolhidas", "Nudez Forçada", "Comida escolhida", "Coleira e Guia", "Conversa Suja", "Sermão", "Hipnose",
      "Lustrar botas", "Em Público", "Em Público de forma discreta", "Controle / Negação do Orgasmo",
      "Resistência/Insurgência", "Adoração de Pés / Pernas", "Adoração Genital", "Competição", "Diário / blog",
      "Controle de peso corporal", "Servir como Móvel", "Servir como Arte", "Servir como cinzeiro",
      "Servir como banheiro", "Bissexualidade forçada", "Acessório simbólico", "Condições de sono", "Motorista"
    ],
    "Role Play": [
      "Chefe/Secretária", "Professor/Estudante", "Donzela em perigo", "Sequestro",
      "Médico - Enfermeiro / Paciente", "Diferença de idade (Ageplay)", "Interrogatório", "Regressão etária",
      "Bebê adulto", "Cenas de prisão", "Servindo como empregada doméstica", "Prostituição / Doado",
      "Iniciação / Ritual", "Cenas de punição", "Cenas Religiosas", "Cenas de estupro", "Petplay - Cachorro",
      "Petplay - Gato", "Petplay - Cavalo", "Furries", "Cosplay", "Boneca viva", "Cenas de corno",
      "Cenas de leilão", "Reprodução / Impregnação"
    ],
    "Fetiches": [
      "Couro", "Látex", "Borracha", "PVC", "Lingerie", "Sapatos", "Botas", "Luvas", "Pés", "Mãos",
      "Fixação Oral", "Fumar", "Uniformes", "Voyeurismo", "Espartilhos", "Médico", "Crossdressing",
      "Feminização Forçada", "Strap-On", "Lolita", "Pessoas mais velhas", "Pelagem animal", "Lactação",
      "Brincadeira de comida", "Menstruação", "Fotos/Vídeos", "Exibicionismo Online", "Exibicionismo Real",
      "Medo / Ameaça", "Chorando", "Abandono", "Acrotomofilia", "Barosmia", "Barbear", "Shibari", "Dança Erótica",
      "Piercings", "Tatuagens", "Modificação corporal", "Musculação", "Bukkake", "Zentai", "Fraldas",
      "Chuva Dourada", "Sangue", "Vomitar", "Scat"
    ],
    "Equipamentos": [
      "Cintos/tiras de couro", "Corda de cânhamo", "Correntes", "Coleiras", "Coleiras de Postura", "Punhos de couro",
      "Algemas", "Algemas Metálicas", "Meia calça", "Barras espaçadoras", "Cadeados", "Vendas", "Capuzes",
      "Máscaras", "Protetores auriculares", "Máscaras de gás", "Camas a vácuo", "Harness", "Plástico Filme",
      "Gesso", "Braçadeira única", "Luvas de Ópera Bondage", "Anéis penianos", "Balanço sexual", "Trelas de cavalo",
      "Jaquetas de bondage", "Gaiolas", "Gags de bola", "Gags de pano", "Gags de fita", "Gags de pênis",
      "Gags de boca aberta", "Gags infláveis", "Gags vibrador", "Gags de focinheira", "Trelas de nariz",
      "Ganchos de nariz", "Prendedores de roupa", "Bengalas", "Remos", "Chicotes", "Chicotes de 9 caudas",
      "Chicote de Dragão", "Club medieval", "Varinhas Violetas", "Eletro Estimulação", "Grampos para Mamilos",
      "Pesos para mamilos", "Pinças para lábios", "Pesos Genitais", "Esmagadores nas bolas", "Gancho Anal",
      "Gancho Vaginal", "Vibradores - Inseríveis", "Vibradores - Varinhas", "Plugues anais", "Plugues com cauda",
      "Bolinhas tailandesas", "Espéculos", "Sonda uretral", "Cata-ventos", "Sinos", "Strap-on", "Penas", "Facas",
      "Garras", "Espelhos", "Máquinas sexuais"
    ]
  };

  let listaPerguntas = [];
  let indice = 0;
  let respostasUsuario = [];
  let respostaDarAtual = null;
  let respostaReceberAtual = null;

  function iniciarQuestionario() {
    const selecionadas = Array.from(document.querySelectorAll('[data-subcategoria].active')).map(btn => btn.textContent);
    
    if (selecionadas.length === 0) {
      alert('Por favor, selecione pelo menos uma subcategoria!');
      return;
    }
    
    listaPerguntas = [];
    respostasUsuario = [];
    selecionadas.forEach(cat => {
      if (perguntas[cat]) {
        perguntas[cat].forEach(p => listaPerguntas.push({ categoria: cat, texto: p }));
      }
    });
    
    indice = 0;
    respostaDarAtual = null;
    respostaReceberAtual = null;
    
    document.getElementById('questionario').classList.remove('hidden');
    document.getElementById('resultados').classList.add('hidden');
    mostrarPergunta();
  }

  function mostrarPergunta() {
    if (indice < 0 || indice >= listaPerguntas.length) return;
    
    const atual = listaPerguntas[indice];
    document.getElementById('categoriaAtual').textContent = `📋 ${atual.categoria}`;
    document.getElementById('perguntaAtual').textContent = atual.texto;

    // Limpar seleções anteriores
    respostaDarAtual = null;
    respostaReceberAtual = null;
    
    // Restaurar respostas se existirem
    if (respostasUsuario[indice]) {
      respostaDarAtual = respostasUsuario[indice].dar;
      respostaReceberAtual = respostasUsuario[indice].receber;
    }

    criarBotoesResposta('respostasDar', 'dar');
    criarBotoesResposta('respostasReceber', 'receber');
    
    atualizarProgresso();
    verificarBotaoProximo();
  }

  function criarBotoesResposta(containerId, tipo) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';
    
    respostas.forEach(r => {
      const btn = document.createElement('button');
      btn.textContent = r;
      btn.setAttribute('data-resposta', r);
      btn.onclick = () => {
        // Remover seleção anterior
        container.querySelectorAll('button').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        
        if (tipo === 'dar') {
          respostaDarAtual = r;
        } else {
          respostaReceberAtual = r;
        }
        
        verificarBotaoProximo();
      };
      
      // Marcar como selecionado se for a resposta atual
      if ((tipo === 'dar' && respostaDarAtual === r) || (tipo === 'receber' && respostaReceberAtual === r)) {
        btn.classList.add('selected');
      }
      
      container.appendChild(btn);
    });
  }

  function verificarBotaoProximo() {
    // Mudança automática quando ambas as respostas são selecionadas
    if (respostaDarAtual && respostaReceberAtual) {
      setTimeout(() => {
        proximaPergunta();
      }, 500); // Pequeno delay para mostrar a seleção
    }
  }

  function proximaPergunta() {
    if (!respostaDarAtual || !respostaReceberAtual) {
      return; // Não fazer nada se não houver respostas completas
    }
    
    const atual = listaPerguntas[indice];
    respostasUsuario[indice] = {
      categoria: atual.categoria,
      pergunta: atual.texto,
      dar: respostaDarAtual,
      receber: respostaReceberAtual
    };
    
    indice++;
    
    if (indice < listaPerguntas.length) {
      mostrarPergunta();
    } else {
      mostrarResultado();
    }
  }

  function anteriorPergunta() {
    if (indice > 0) {
      indice--;
      mostrarPergunta();
    }
  }

  function atualizarProgresso() {
    const progressText = document.getElementById('progressText');
    const progressBar = document.getElementById('progressBar');
    
    const atual = indice + 1;
    const total = listaPerguntas.length;
    
    progressText.textContent = `Pergunta ${atual} de ${total}`;
    
    const porcentagem = (indice / listaPerguntas.length) * 100;
    progressBar.style.width = porcentagem + '%';
  }

  function mostrarResultado() {
    document.getElementById('questionario').classList.add('hidden');
    document.getElementById('resultados').classList.remove('hidden');

    const resumo = document.getElementById('resumo');
    resumo.innerHTML = '';
    
    const agrupado = {};

    // Filtrar respostas N/A
    const respostasFiltradas = respostasUsuario.filter(r => 
      r.dar !== 'N/A' || r.receber !== 'N/A'
    );

    respostasFiltradas.forEach(r => {
      if (!agrupado[r.categoria]) {
        agrupado[r.categoria] = {
          dar: {},
          receber: {}
        };
      }
      
      // Agrupar respostas DAR (exceto N/A)
      if (r.dar !== 'N/A') {
        if (!agrupado[r.categoria].dar[r.dar]) {
          agrupado[r.categoria].dar[r.dar] = [];
        }
        agrupado[r.categoria].dar[r.dar].push(r.pergunta);
      }
      
      // Agrupar respostas RECEBER (exceto N/A)
      if (r.receber !== 'N/A') {
        if (!agrupado[r.categoria].receber[r.receber]) {
          agrupado[r.categoria].receber[r.receber] = [];
        }
        agrupado[r.categoria].receber[r.receber].push(r.pergunta);
      }
    });

    for (const categoria in agrupado) {
      const secao = document.createElement('div');
      secao.className = 'resultado-categoria';
      secao.innerHTML = `<h3>📋 ${categoria}</h3>`;
      
      // Criar tabela para DAR
      const tabelaDar = criarTabelaResultado(agrupado[categoria].dar, 'DAR');
      secao.appendChild(tabelaDar);
      
      // Criar tabela para RECEBER
      const tabelaReceber = criarTabelaResultado(agrupado[categoria].receber, 'RECEBER');
      secao.appendChild(tabelaReceber);
      
      resumo.appendChild(secao);
    }
  }

  function criarTabelaResultado(dados, tipo) {
    const container = document.createElement('div');
    container.innerHTML = `<h4 style="margin: 1rem 0; color: ${tipo === 'DAR' ? '#e74c3c' : '#27ae60'};">${tipo === 'DAR' ? '🔥' : '💖'} ${tipo}</h4>`;
    
    const tabela = document.createElement('table');
    const headerRow = document.createElement('tr');

    // Filtrar respostas para excluir N/A
    const respostasVisiveis = respostas.filter(r => r !== 'N/A');

    respostasVisiveis.forEach(res => {
      const th = document.createElement('th');
      th.textContent = res;
      th.setAttribute('data-resposta', res);
      headerRow.appendChild(th);
    });

    tabela.appendChild(headerRow);

    // Encontrar o máximo de itens por coluna
    const maxLinhas = Math.max(...respostasVisiveis.map(r => (dados[r] || []).length));

    for (let i = 0; i < maxLinhas; i++) {
      const row = document.createElement('tr');
      respostasVisiveis.forEach(res => {
        const td = document.createElement('td');
        td.textContent = dados[res]?.[i] || "";
        row.appendChild(td);
      });
      tabela.appendChild(row);
    }

    container.appendChild(tabela);
    return container;
  }

  // Adicionar estilo para o tema escuro no perguntaAtual
  const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
        const perguntaAtual = document.getElementById('perguntaAtual');
        if (perguntaAtual) {
          if (document.body.classList.contains('dark')) {
            perguntaAtual.style.color = '#ecf0f1';
          } else {
            perguntaAtual.style.color = '#2c3e50';
          }
        }
      }
    });
  });

  observer.observe(document.body, {
    attributes: true,
    attributeFilter: ['class']
  });

  // Funcionalidade dos toggles para condições médicas e limitações
  document.getElementById('condicaoToggle').addEventListener('change', function() {
    const campo = document.getElementById('condicao');
    if (this.checked) {
      campo.style.display = 'block';
      campo.focus();
    } else {
      campo.style.display = 'none';
      campo.value = '';
    }
  });

  document.getElementById('limitacaoToggle').addEventListener('change', function() {
    const campo = document.getElementById('limitacao');
    if (this.checked) {
      campo.style.display = 'block';
      campo.focus();
    } else {
      campo.style.display = 'none';
      campo.value = '';
    }
  });
</script>
</body>
</html>